b 500
i番目を固定してそれ以外を動かすとして良い
i番目から、「きれいに逆順に並んでいる数」「きれいに正順に並んでいる数」だけ省略できる
よってこれを数えられればn-1-a-b

逆引きハッシュみたいなのを作るのかな

→正解、ただしやや無駄が多い
iを固定する必要はなく、値が1づつ大きくなっていく→数列で最長のものを探せばいいだけ。
これはiにcheckedみたいなフラグをもたせてさえいればn回しか辿られないのでO(N)で出せる
