ABC119
https://img.atcoder.jp/abc119/editorial.pdf

D - Lazy Faith
https://atcoder.jp/contests/abc119/tasks/abc119_d

寺に対する神社あるいは神社に対する寺を逆施設とよぶ。

ある座標xに対して、最短経路は次の2つのうち短い方。
* 左にある一番近い施設に行く→最も近い逆施設に行く
* 右にある一番近い施設に行く→最も近い逆施設に行く
（証明：
番兵を無限遠におけば、xには左右それぞれに最も近い寺と神社があることになる。
それを左寺、左神社、右寺、右神社とよぶ。
これら以外は無視していい。（右２神社を通るのであれば右神社を通っている）
左にある最近接施設を寺として一般性を失わない。
このとき、右にある最近接施設が寺だったなら、明らかに上の*2つのどちらかが最短経路となる。
右にある最近接施設が神社だったなら、最短経路としてあり得るのは
* 左寺→左神社
* 左寺→右神社
* 右神社→左寺
* 右神社→右寺
である。どれが最短経路であったにしろ、*2つのうち短い方に一致する。
）

よって各施設に対して最も近い逆施設がすぐわかれば（１）、
座標から最近接左右施設を求めればすぐ答えが出る（２）。
（１）はs,tを小さい方から順に見ていって全施設を合わせた配列stに入れれば実現できる。
（２）はstでにぶたんすればよい。

解説の解法として、s,tそれぞれでにぶたんすることで左右寺神社がすぐ全部出るので、
それを使って8通りの経路を全て試し最小を取る、という方法でも問題ない（こっちのがシンプルかも）。
